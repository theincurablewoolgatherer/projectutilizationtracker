{
  "author": {
    "name": "George Heeres",
    "email": "gheeres@gmail.com"
  },
  "name": "activedirectory",
  "version": "0.6.3",
  "description": "ActiveDirectory is an ldapjs client for authN (authentication) and authZ (authorization) for Microsoft Active Directory with range retrieval support for large Active Directory installations.",
  "main": "index.js",
  "directories": {
    "lib": "./lib"
  },
  "engines": {
    "node": ">=0.8"
  },
  "keywords": [
    "ldap",
    "active directory"
  ],
  "bugs": {
    "url": "https://github.com/gheeres/node-activedirectory/issues"
  },
  "dependencies": {
    "async": ">= 0.1.22",
    "bunyan": "^0.23.1",
    "ldapjs": ">= 0.7.1",
    "underscore": ">= 1.4.3"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/gheeres/node-activedirectory.git"
  },
  "license": "MIT",
  "readme": "ActiveDirectory for Node\n=========\n\nActiveDirectory is an ldapjs client for authN (authentication) and authZ (authorization) for Microsoft Active Directory with range retrieval support for large Active Directory installations. This code was a port of an existing C# library (not published) that I had written a few years ago. Here are the key features\n\n  - Authenticate\n  - Authorization (via group membership information)\n  - Nested groups support\n  - Range specifier / retrieval support (http://msdn.microsoft.com/en-us/library/dd358433.aspx)\n  - Automatic paging support (Active Directory results (MaxPageSize) limited to 1000 per request by default)\n  - Recycle bin (tombstone) query support\n  - Referral support\n\nRequired Libraries\n-----------\n\nActiveDirectory uses the following additional node modules:\n\n* [underscore] - a utility-belt library for JavaScript that provides a lot of the functional programming support\n* [async] - Async utilities for node and the browser\n* [ldapjs] - A pure JavaScript, from-scratch framework for implementing LDAP clients and servers in Node.js\n\nInstallation\n--------------\n\n```sh\nnpm install activedirectory\n```\n\nUsage\n--------------\n\n```js\nvar ActiveDirectory = require('activedirectory');\nvar ad = new ActiveDirectory(url, baseDN, username, password);\n```\n\nOptionally the configuration can be specified with an object:\n\n```js\nvar ActiveDirectory = require('activedirectory');\nvar ad = new ActiveDirectory({ url: 'ldap://dc.domain.com',\n                               baseDN: 'dc=domain,dc=com',\n                               username: 'username@domain.com',\n                               password: 'password' });\n```\n\nThe username and password specified in the configuration are what are used for user and group lookup operations.\n\n__Attributes__\n\nBy default, the following attributes are returned for users and groups:\n\n* user - userPrincipalName, sAMAccountName, mail, lockoutTime, whenCreated, pwdLastSet, userAccountControl, employeeID,  sn,  givenName, initials, cn, displayName, comment, description\n* group - objectCategory, distinguishedName, cn, description, member\n\nIf you need to override those defaults, then you can override them when you create your ActiveDirectory instance:\n\n```js\nvar ad = new ActiveDirectory({ url: 'ldap://dc.domain.com',\n                               baseDN: 'dc=domain,dc=com',\n                               username: 'username@domain.com',\n                               password: 'password',\n                               attributes: {\n                                 user: [ 'myCustomAttribute', 'mail', 'userPrinicipalName' ],\n                                 group: [ 'anotherCustomAttribute', 'objectCategory' ]\n                               }\n                              });\n```\nor\n```js\nvar ad = new ActiveDirectory(url, baseDN, username, password, {\n                             attributes: {\n                               user: [ 'myCustomAttribute', 'mail', 'userPrinicipalName' ],\n                               group: [ 'anotherCustomAttribute', 'objectCategory' ] }\n                             });\n```\n\nIf overriding the 'user' or 'group' attribute, you must specify ALL of the attributes you want. The existing defaults\nwill be overridden. Optionally, you can override the attributes on a per call basis using the 'opts' parameter.\n\n__Referrals__\n\nBy default, referral chasing is disabled. To enable it, specify a referrals attribute when you create your instance.\nThe referrals object has the following syntax:\n\n```js\n{\n  referrals: {\n    enabled: false,\n    excluded: [\n      'ldaps?://ForestDnsZones\\./.*',\n      'ldaps?://DomainDnsZones\\./.*',\n      'ldaps?://.*/CN=Configuration,.*'\n    ]\n  }\n}\n```\n\nThe 'excluded' options is a list of regular expression filters to ignore specific referrals. The default exclusion list\nis included above, ignoring the special partitions that ActiveDirectory creates by default. To specify these options,\noverride them as follows:\n\n```js\nvar ad = new ActiveDirectory({ url: 'ldap://dc.domain.com',\n                               baseDN: 'dc=domain,dc=com',\n                               username: 'username@domain.com',\n                               password: 'password',\n                               attributes: { ... },\n                               referrals: {\n                                 enabled: true,\n                                 excluded: [ ]\n                               }\n                              });\n```\nor\n```js\nvar ad = new ActiveDirectory(url, baseDN, username, password, {\n                             attributes: { ... },\n                             referrals: { enabled: true }\n                             });\n```\n\nIf you enable referral chasing, the specified username MUST be a userPrincipalName.\n\n__Custom entry parsing __\n\nif you want to manipulate the search entry in a different way or perhaps augment the search\nresult with additional data, you can pass a custom parser. This is useful, for example, in case \nyou want to change the objectSid or GUID which are binary values.\n\nExample:\n\n```js\nfunction customEntryParser(entry, raw, callback){\n    if (raw.hasOwnProperty(\"objectSid\")){\n        entry.objectSid = raw.objectSid;\n    }\n    if (raw.hasOwnProperty(\"objectGUID\")){\n        entry.objectGUID = raw.objectGUID;\n    }\n    callback(entry);\n};\n```\n\nIf you want to specify your own parser you can override the default parser as follows:\n\n```js\nvar ad = new ActiveDirectory({ url: 'ldap://dc.domain.com',\n                               baseDN: 'dc=domain,dc=com',\n                               username: 'username@domain.com',\n                               password: 'password',\n                               attributes: { ... },\n                               referrals: { ... },\n                               entryParser : customEntryParser\n                              });\n```\nor\n```js\nvar ad = new ActiveDirectory(url, baseDN, username, password, {\n                             attributes: { ... },\n                             referrals: { ... },\n                             entryParser : customEntryParser\n                             });\n```\n\nOptionally, you can specify your custom entry parser as part of the 'opts' object. See [optional parameters](#opts)\nfor more information.\n\n```js\nvar opts = function(entry, raw, callback) {\n  entry.retrievedAt = new Date();\n  callback(entry);\n};\nad.findUser(opts, 'userPrincipalName=bob@domain.com', function(err, user) {\n ...\n});\n```\n \n---------------------------------------\n\nDocumentation\n--------------\n* [authenticate](#authenticate)\n* [isUserMemberOf](#isUserMemberOf)\n* [find](#find)\n* [findUser](#findUser)\n* [findGroup](#findGroup)\n* [findUsers](#findUsers)\n* [findGroups](#findGroups)\n* [groupExists](#groupExists)\n* [userExists](#userExists)\n* [getGroupMembershipForGroup](#getGroupMembershipForGroup)\n* [getGroupMembershipForUser](#getGroupMembershipForUser)\n* [getUsersForGroup](#getUsersForGroup)\n* [getRootDSE](#getRootDSE)\n* [findDeletedObjects](#findDeletedObjects)\n\n---------------------------------------\n\n<a name=\"authenticate\" />\n### authenticate(username, password, callback)\n\nAuthenticates the username and password by doing a simple bind with the specified credentials.\n\n__Arguments__\n\n* username - The username to authenticate.\n* password - The password to use for authentication.\n* callback(err, authenticated) - A callback which is called after authentication is completed.\n\n__Example__\n\n```js\nvar ad = new ActiveDirectory(config);\nvar username = 'john.smith';\nvar password = 'password';\n\nad.authenticate(username, password, function(err, auth) {\n  if (err) {\n    console.log('ERROR: '+JSON.stringify(err));\n    return;\n  }\n  \n  if (auth) {\n    console.log('Authenticated!');\n  }\n  else {\n    console.log('Authentication failed!');\n  }\n});\n```\n\n---------------------------------------\n\n<a name=\"isUserMemberOf\" />\n### isUserMemberOf(opts, username, groupName, callback)\n\nChecks to see if a user is a member of the specified group. This function will also check for group membership inside of a group.  Even if a user is not explicity listed as a member of a particular group, if a group that the user is a member of belongs to the group, then this function will return true.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* username - The username to check for membership. Can be specied as a sAMAccountName, userPrincipalName or distinguishedName (dn)\n* groupName - The group to check for membership. Can be a commonName (cn) or a distinguishedName (dn)\n* callback - The callback to execute when completed. callback(err: {Object}, result: {Boolean})\n\n__Example__\n\n```js\nvar username = 'user@domain.com';\nvar groupName = 'Employees';\n\nvar ad = new ActiveDirectory(config);\nvar ad.isUserMemberOf(username, groupName, function(err, isMember) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  console.log(username + ' isMemberOf ' + groupName + ': ' + isMember);\n});\n```\n\n---------------------------------------\n\n<a name=\"groupExists\" />\n### groupExists(opts, groupName, callback)\n\nChecks to see if the specified group exists.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* groupName - The group to check if is defined. Can be a commonName (cn) or a distinguishedName (dn)\n* callback - The callback to execute when completed. callback(err: {Object}, result: {Boolean})\n\n__Example__\n\n```js\nvar groupName = 'Employees';\n\nvar ad = new ActiveDirectory(config);\nad.groupExists(groupName, function(err, exists) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  console.log(groupName + ' exists: ' + exists);\n});\n```\n\n---------------------------------------\n\n<a name=\"userExists\" />\n### userExists(opts, username, callback)\n\nChecks to see if the specified user exists.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* username - The username to check if it exists. Can be a sAMAccountName, userPrincipalName or a distinguishedName (dn)\n* callback - The callback to execute when completed. callback(err: {Object}, result: {Boolean})\n\n__Example__\n\n```js\nvar username = 'john.smith';\n\nvar ad = new ActiveDirectory(config);\nad.userExists(username, function(err, exists) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  console.log(username + ' exists: ' + exists);\n});\n```\n\n---------------------------------------\n\n<a name=\"getUsersForGroup\" />\n### getUsersForGroup(opts, groupName, callback)\n\nFor the specified group, retrieve all of the users that belong to the group. If the group contains groups, then the members of those groups are recursively retrieved as well to build a complete list of users that belong to the specified group.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* groupName - The name of the group to retrieve membership from. Can be a commonName (cn) or a distinguishedName (dn)\n* callback - The callback to execute when completed. callback(err: {Object}, groups: {Array[User]})\n\n__Example__\n\n```js\nvar groupName = 'Employees';\n\nvar ad = new ActiveDirectory(config);\nad.getUsersForGroup(groupName, function(err, users) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if (! users) console.log('Group: ' + groupName + ' not found.');\n  else {\n    console.log(JSON.stringify(users));\n  }\n});\n```\n\n\n---------------------------------------\n\n<a name=\"getGroupMembershipForUser\" />\n### getGroupMembershipForUser(opts, username, callback)\n\nFor the specified username, retrieve all of the groups that a user belongs to. If a retrieved group is a member of another group, then that group is recursively retrieved as well to build a complete hierarchy of groups that a user belongs to.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* username - The name of the user to retrieve group membership for. Can be a sAMAccountName, userPrincipalName, or a distinguishedName (dn)\n* callback - The callback to execute when completed. callback(err: {Object}, groups: {Array[Group]})\n\n__Example__\n\n```js\nvar sAMAccountName = 'john.smith';\n\nvar ad = new ActiveDirectory(config);\nad.getGroupMembershipForUser(sAMAccountName, function(err, groups) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if (! groups) console.log('User: ' + sAMAccountName + ' not found.');\n  else console.log(JSON.stringify(groups));\n});\n```\n\n---------------------------------------\n\n<a name=\"getGroupMembershipForGroup\" />\n### getGroupMembershipForGroup(opts, groupName, callback)\n\nFor the specified group, retrieve all of the groups that the group is a member of. If a retrieved group is a member of another group, then that group is recursively retrieved as well to build a complete hierarchy of groups that a user belongs to.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* groupName - The name of the user to retrieve group membership for. Can be a sAMAccountName, userPrincipalName, or a distinguishedName (dn)\n* callback - The callback to execute when completed. callback(err: {Object}, groups: {Array[Group]})\n\n__Example__\n\n```js\nvar groupName = 'Employees';\n\nvar ad = new ActiveDirectory(config);\nad.getGroupMembershipForGroup(groupName, function(err, groups) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if (! groups) console.log('Group: ' + groupName + ' not found.');\n  else console.log(JSON.stringify(groups));\n});\n```\n\n---------------------------------------\n\n<a name=\"find\" />\n### find(opts, callback)\n\nPerform a generic search for the specified LDAP query filter. This function will return both\ngroups and users that match the specified filter. Any results not recognized as a user or group\n(i.e. computer accounts, etc.) can be found in the 'other' attribute / array of the result.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts). If only a string is provided, then the string is assumed to be an LDAP filter\n* callback - The callback to execute when completed. callback(err: {Object}, groups: {Array[Group]})\n\n__Example__\n\n```js\nvar query = 'cn=*Exchange*';\nvar opts = {\n  includeMembership : [ 'group', 'user' ], // Optionally can use 'all'\n  includeDeleted : false\n};\n\nvar ad = new ActiveDirectory(config);\nad.find(query, function(err, results) {\n  if ((err) || (! result)) {\n    console.log('ERROR: ' + JSON.stringify(err));\n    return;\n  }\n\n  console.log('Groups');\n  _.each(result.groups, function(group) {\n    console.log('  ' + group.cn);\n  });\n\n  console.log('Users');\n  _.each(result.users, function(user) {\n    console.log('  ' + user.cn);\n  });\n\n  console.log('Other');\n  _.each(result.other, function(other) {\n    console.log('  ' + other.cn);\n  });\n});\n```\n\n---------------------------------------\n\n<a name=\"findDeletedObjects\" />\n### findDeletedObjects(opts, callback)\n\nIf tombstoning (recycle bin) is enabled for the Active Directory installation, use findDeletedObjects to retrieve\nitems in the recycle bin.\n \nMore information about tombstoning and enabling can be found at:\n \n* [Enable the Active Directory Recycle Bin (and other New Features)](http://technet.microsoft.com/en-us/magazine/ff793473.aspx)\n* [Reanimating Active Directory Tombstone Objects](http://technet.microsoft.com/en-us/magazine/2007.09.tombstones.aspx)\n\nNote: That when an LDAP entry / object is tombstoned, not all attributes for that item are retained. \nThis is a limitation of Active Directory itself and not the library itself.\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts). If only a string is provided, then the string is assumed to be an LDAP filter\n* callback - The callback to execute when completed. callback(err: {Object}, result: {Array})\n\nIf the baseDN is not specified, then a RootDSE query will be performed on the attached URL and 'ou-Deleted Objects' \nwill be appended.\n\n__Example__\n\n```js\nvar url = 'ldap://yourdomain.com';\nvar opts = {\n  baseDN: 'ou=Deleted Objects, dc=yourdomain, dc=com',\n  filter: 'cn=*Bob*'\n};\nad.findDeletedObjects(opts, function(err, result) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  console.log('findDeletedObjects: '+JSON.stringify(result));\n});\n```\n\n---------------------------------------\n\n<a name=\"findUser\" />\n### findUser(opts, username, callback)\n\nLooks up or finds a username by their sAMAccountName, userPrincipalName, distinguishedName (dn) or custom filter. If found, the returned object contains all of the requested attributes. By default, the following attributes are returned:\n\n* userPrincipalName, sAMAccountName, mail, lockoutTime, whenCreated, pwdLastSet, userAccountControl, employeeID,  sn,  givenName, initials, cn, displayName, comment, description\n\n__Arguments__\n\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* username - The username to retrieve information about. Optionally can pass in the distinguishedName (dn) of the user to retrieve.\n* callback(err, user) - The callback to execute when completed. callback(err: {Object}, user: {User})\n\n__Example__\n\n```js\n// Any of the following username types can be searched on\nvar sAMAccountName = 'userna4me';\nvar userPrincipalName = 'username@domain.com';\nvar dn = 'CN=Smith\\\\, John,OU=Users,DC=domain,DC=com';\n\n// Find user by a sAMAccountName\nvar ad = new ActiveDirectory(config);\nad.findUser(sAMAccountName, function(err, user) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if (! user) console.log('User: ' + sAMAccountName + ' not found.');\n  else console.log(JSON.stringify(user));\n});\n```\n\n---------------------------------------\n\n<a name=\"findUsers\" />\n### findUsers(opts, callback)\n\nPerform a generic search for users that match the specified filter. The default LDAP filter for users is\nspecified as (&(|(objectClass=user)(objectClass=person))(!(objectClass=computer))(!(objectClass=group)))\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts). If only a string is provided, then the string is assumed to be an LDAP filter that will be appended as the last parameter in the default LDAP filter.\n* callback - The callback to execute when completed. callback(err: {Object}, users: {Array[User]})\n\n__Example__\n\n```js\nvar query = 'cn=*George*';\n\nvar ad = new ActiveDirectory(config);\nad.findUsers(query, true, function(err, users) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if ((! users) || (users.length == 0)) console.log('No users found.');\n  else {\n    console.log('findUsers: '+JSON.stringify(users));\n  }\n});\n```\n\n---------------------------------------\n\n<a name=\"findGroup\" />\n### findGroup(opts, groupName, callback)\n\nLooks up or find a group by common name (CN) which is required to be unique in Active Directory or optionally by the distinguished name. Supports groups with range retrieval specifiers. The following attributes are returned by default for the group:\n\n* objectCategory, distinguishedName, cn, description, member\n\n__Arguments__\n\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts).\n* groupName -  The group (cn) to retrieve information about. Optionally can pass in the distinguishedName (dn) of the group to retrieve.\n* callback(err, group) - The callback to execute when completed. callback(err: {Object}, group: {Group})\n\n\n__Example__\n\n```js\n// Any of the following group names can be searched on\nvar groupName = 'Employees';\nvar dn = 'CN=Employees,OU=Groups,DC=domain,DC=com'\n\n// Find group by common name\nvar ad = new ActiveDirectory(config);\nad.findGroup(groupName, function(err, group) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if (! user) console.log('Group: ' + groupName + ' not found.');\n  else {\n    console.log(group);\n    console.log('Members: ' + (group.member || []).length);\n  }\n});\n```\n\n---------------------------------------\n\n<a name=\"findGroups\" />\n### findGroups(opts, callback)\n\nPerform a generic search for groups that match the specified filter. The default LDAP filter for groups is\nspecified as (&(objectClass=group)(!(objectClass=computer))(!(objectClass=user))(!(objectClass=person)))\n\n__Arguments__\n* opts - Optional parameters to extend or override functionality. See [optional parameters](#opts). If only a string is provided, then the string is assumed to be an LDAP filter that will be appended as the last parameter in the default LDAP filter.\n* callback - The callback to execute when completed. callback(err: {Object}, groups: {Array[Group]})\n\n__Example__\n\n```js\nvar query = 'CN=*Admin*';\n\nvar ad = new ActiveDirectory(config);\nad.findGroups(query, function(err, groups) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  if ((! groups) || (groups.length == 0)) console.log('No groups found.');\n  else {\n    console.log('findGroups: '+JSON.stringify(groups));\n  }\n});\n```\n\n---------------------------------------\n\n<a name=\"getRootDSE\" />\n### getRootDSE(url, attributes, callback)\n\nRetrieves the root DSE for the specified url. Can be called statically.\n\n__Arguments__\n* url - The url to retrieve the root DSE for.\n* attributes - The optional list of attributes to retrieve. Returns all if not specified.\n* callback - The callback to execute when completed. callback(err: {Object}, result: {Object})\n\n__Example__\n\n```js\nvar url = 'ldap://yourdomain.com';\nActiveDirectory.prototype.getRootDSE(url, [ 'defaultNamingContext' ], function(err, result) {\n  if (err) {\n    console.log('ERROR: ' +JSON.stringify(err));\n    return;\n  }\n\n  console.log('getRootDSE: '+JSON.stringify(result));\n});\n\n// Or can be called with an instance...\nvar ad = new ActiveDirectory(config);\nad.getRootDSE(function(err, result) {\n  //...\n});\n```\n\n---------------------------------------\n\n<a name=\"opts\" />\n### Optional Parameters / Extended Functionality\n\nAny method which takes an 'opts' parameter allows for additional options. Options for both activedirectory.js\nand the internal ldapjs client are supported. \n \nCurrently supported ldapjs opts are:\n\n* url - a valid LDAP url.\n* host - the host name to connect to (used with port in lieu of url)\n* port - the port to connect to (used with hostname in lieu of url)\n* secure - indicates if ldaps:// vs ldap:// is used. (used with hostname/port in lieu of url)\n* tlsOptions - additrional tls options (see ldapjs for more information)\n* socketPath - If you're running an LDAP server over a Unix Domain Socket, use this.\n* log - You can optionally pass in a bunyan instance the client will use to acquire a logger. The client logs all messages at the trace level.\n* timeout - How long the client should let operations live for before timing out. Default is Infinity.\n* idleTimeout - How long the client should wait before timing out on TCP connections. Default is up to the OS.\n* bindDN - The DN all connections should be bound as.\n* bindCredentials - The credentials to use with bindDN.\n* scope\t- One of base, one, or sub. Defaults to base.\n* filter - A string version of an LDAP filter (see below), or a programatically constructed Filter object. Defaults to (objectclass=*).\n* attributes - attributes to select and return (if these are set, the server will return only these attributes). Defaults to the empty set, which means all attributes.\n* sizeLimit - the maximum number of entries to return. Defaults to 0 (unlimited).\n* timeLimit - the maximum amount of time the server should take in responding, in seconds. Defaults to 10. Lots of servers will ignore this.\n\nOptions for activedirectory.js:\n\n* baseDN - The alternative baseDN to use than the one specified in the ctor.\n* includeMembership - Indicates that a search or find operation should enumerate the group memberships of the specified result types. Supported values are [ 'user', 'group', 'all' ].\n* includeDeleted - Indicates that results should include tombstoned / deleted items. Please see [findDeletedObject](#findDeletedObjects) for additional notes and caveats.\n* entryParser - Allows for a custom function to be specified for parsing of the resulting ldap object. Examples include augmenting ldap data with external data from an RDBMs. function onParse(entry, raw, callback) { callback(entry); } If null is returned, the result is excluded.\n\n#### Example\n\n```js\nvar opts = {\n  scope: 'sub',\n  filter: 'objectClass=User',\n  includeMembership: [ 'user' ],\n  entryParser: function(entry, raw, callback) {\n    // returning null with exclude result\n    if (entry.ignore) return(null);\n\n    entry.retrievedAt = new Date();\n    entry.preferredServer = getPreferredServerFromDatabase(entry.userPrincipalName);\n\n    callback(entry);  \n  }\n};\n```\n\n  [underscore]: http://underscorejs.org/\n  [async]: https://github.com/caolan/async\n  [ldapjs]: http://ldapjs.org/\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/gheeres/node-activedirectory",
  "_id": "activedirectory@0.6.3",
  "_from": "activedirectory@latest"
}
